2014-09-30 19:25:39,341 - Starting Apache Velocity v1.5 (compiled: 2007-02-22 08:52:29)
2014-09-30 19:25:39,341 - Default Properties File: org/apache/velocity/runtime/defaults/velocity.properties
2014-09-30 19:25:39,341 - Trying to use logger class org.apache.velocity.runtime.log.AvalonLogChute
2014-09-30 19:25:39,341 - Couldn't find class org.apache.velocity.runtime.log.AvalonLogChute or necessary supporting classes in classpath.
java.lang.NoClassDefFoundError: org/apache/log/format/Formatter
	at java.lang.Class.forName0(Native Method)
	at java.lang.Class.forName(Class.java:249)
	at org.apache.velocity.util.ClassUtils.getClass(ClassUtils.java:63)
	at org.apache.velocity.util.ClassUtils.getNewInstance(ClassUtils.java:95)
	at org.apache.velocity.runtime.log.LogManager.createLogChute(LogManager.java:147)
	at org.apache.velocity.runtime.log.LogManager.updateLog(LogManager.java:208)
	at org.apache.velocity.runtime.RuntimeInstance.initializeLog(RuntimeInstance.java:728)
	at org.apache.velocity.runtime.RuntimeInstance.init(RuntimeInstance.java:240)
	at org.apache.velocity.app.VelocityEngine.init(VelocityEngine.java:116)
	at org.wso2.carbon.appmgt.impl.entitlement.XACMLTemplateBuilder.<init>(XACMLTemplateBuilder.java:46)
	at org.wso2.carbon.appmgt.impl.entitlement.XacmlEntitlementServiceImpl.generateMockPolicy(XacmlEntitlementServiceImpl.java:284)
	at org.wso2.carbon.appmgt.impl.entitlement.XacmlEntitlementServiceImpl.validatePolicyPartial(XacmlEntitlementServiceImpl.java:147)
	at org.wso2.carbon.appmgt.impl.APIProviderImpl.validateEntitlementPolicyPartial(APIProviderImpl.java:504)
	at org.wso2.carbon.appmgt.impl.UserAwareAPIProvider.validateEntitlementPolicyPartial(UserAwareAPIProvider.java:36)
	at org.wso2.carbon.appmgt.hostobjects.APIProviderHostObject.jsFunction_validateEntitlementPolicyPartial(APIProviderHostObject.java:697)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:126)
	at org.mozilla.javascript.FunctionObject.call(FunctionObject.java:386)
	at org.mozilla.javascript.optimizer.OptRuntime.call1(OptRuntime.java:32)
	at org.jaggeryjs.rhino.publisher.apis.v_1.c1._c_validateEntitlementPolicyPartial_12(/publisher/apis/v1/entitlement_api_router.jag:74)
	at org.jaggeryjs.rhino.publisher.apis.v_1.c1.call(/publisher/apis/v1/entitlement_api_router.jag)
	at org.mozilla.javascript.optimizer.OptRuntime.callName(OptRuntime.java:63)
	at org.jaggeryjs.rhino.publisher.apis.v_1.c1._c_anonymous_2(/publisher/apis/v1/entitlement_api_router.jag:17)
	at org.jaggeryjs.rhino.publisher.apis.v_1.c1.call(/publisher/apis/v1/entitlement_api_router.jag)
	at org.mozilla.javascript.optimizer.OptRuntime.call1(OptRuntime.java:32)
	at org.jaggeryjs.rhino.publisher.modules.c4._c_anonymous_12(/publisher/modules/router-g.js:183)
	at org.jaggeryjs.rhino.publisher.modules.c4.call(/publisher/modules/router-g.js)
	at org.mozilla.javascript.optimizer.OptRuntime.call2(OptRuntime.java:42)
	at org.jaggeryjs.rhino.publisher.apis.v_1.c1._c_anonymous_1(/publisher/apis/v1/entitlement_api_router.jag:168)
	at org.jaggeryjs.rhino.publisher.apis.v_1.c1.call(/publisher/apis/v1/entitlement_api_router.jag)
	at org.mozilla.javascript.ScriptRuntime.applyOrCall(ScriptRuntime.java:2430)
	at org.mozilla.javascript.BaseFunction.execIdCall(BaseFunction.java:269)
	at org.mozilla.javascript.IdFunctionObject.call(IdFunctionObject.java:97)
	at org.mozilla.javascript.optimizer.OptRuntime.call2(OptRuntime.java:42)
	at org.jaggeryjs.rhino.publisher.modules.c6._c_anonymous_17(/publisher/modules/publisher.js:438)
	at org.jaggeryjs.rhino.publisher.modules.c6.call(/publisher/modules/publisher.js)
	at org.mozilla.javascript.optimizer.OptRuntime.call0(OptRuntime.java:23)
	at org.mozilla.javascript.gen._store__server_js_4._c_anonymous_17([store]/server.js:271)
	at org.mozilla.javascript.gen._store__server_js_4.call([store]/server.js)
	at org.mozilla.javascript.optimizer.OptRuntime.call2(OptRuntime.java:42)
	at org.jaggeryjs.rhino.publisher.modules.c6._c_anonymous_16(/publisher/modules/publisher.js:433)
	at org.jaggeryjs.rhino.publisher.modules.c6.call(/publisher/modules/publisher.js)
	at org.mozilla.javascript.optimizer.OptRuntime.callN(OptRuntime.java:52)
	at org.jaggeryjs.rhino.publisher.apis.v_1.c1._c_script_0(/publisher/apis/v1/entitlement_api_router.jag:5)
	at org.jaggeryjs.rhino.publisher.apis.v_1.c1.call(/publisher/apis/v1/entitlement_api_router.jag)
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:394)
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3091)
	at org.jaggeryjs.rhino.publisher.apis.v_1.c1.call(/publisher/apis/v1/entitlement_api_router.jag)
	at org.jaggeryjs.rhino.publisher.apis.v_1.c1.exec(/publisher/apis/v1/entitlement_api_router.jag)
	at org.jaggeryjs.scriptengine.engine.RhinoEngine.execScript(RhinoEngine.java:567)
	at org.jaggeryjs.scriptengine.engine.RhinoEngine.exec(RhinoEngine.java:273)
	at org.jaggeryjs.jaggery.core.manager.WebAppManager.execute(WebAppManager.java:536)
	at org.jaggeryjs.jaggery.core.JaggeryServlet.doPost(JaggeryServlet.java:29)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:755)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:848)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:749)
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:487)
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:379)
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:339)
	at org.jaggeryjs.jaggery.core.JaggeryFilter.doFilter(JaggeryFilter.java:21)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:99)
	at org.wso2.carbon.tomcat.ext.valves.CompositeValve.continueInvocation(CompositeValve.java:178)
	at org.wso2.carbon.tomcat.ext.valves.CarbonTomcatValve$1.invoke(CarbonTomcatValve.java:47)
	at org.wso2.carbon.webapp.mgt.TenantLazyLoaderValve.invoke(TenantLazyLoaderValve.java:56)
	at org.wso2.carbon.tomcat.ext.valves.TomcatValveContainer.invokeValves(TomcatValveContainer.java:47)
	at org.wso2.carbon.tomcat.ext.valves.CompositeValve.invoke(CompositeValve.java:141)
	at org.wso2.carbon.tomcat.ext.valves.CarbonStuckThreadDetectionValve.invoke(CarbonStuckThreadDetectionValve.java:156)
	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:936)
	at org.wso2.carbon.tomcat.ext.valves.CarbonContextCreatorValve.invoke(CarbonContextCreatorValve.java:52)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1004)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:589)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1653)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:895)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:918)
	at java.lang.Thread.run(Thread.java:662)
Caused by: java.lang.ClassNotFoundException: org.apache.log.format.Formatter
	at org.eclipse.osgi.internal.loader.BundleLoader.findClassInternal(BundleLoader.java:501)
	at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:421)
	at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:412)
	at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass(DefaultClassLoader.java:107)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:247)
	... 88 more
2014-09-30 19:25:39,342 - Trying to use logger class org.apache.velocity.runtime.log.Log4JLogChute
2014-09-30 19:25:39,342 - Using logger class org.apache.velocity.runtime.log.Log4JLogChute
2014-09-30 19:25:39,342 - Default ResourceManager initializing. (class org.apache.velocity.runtime.resource.ResourceManagerImpl)
2014-09-30 19:25:39,342 - ResourceLoader instantiated: org.apache.velocity.runtime.resource.loader.FileResourceLoader
2014-09-30 19:25:39,342 - Do unicode file recognition:  false
2014-09-30 19:25:39,342 - FileResourceLoader : adding path '.'
2014-09-30 19:25:39,342 - ResourceCache: initialized (class org.apache.velocity.runtime.resource.ResourceCacheImpl)
2014-09-30 19:25:39,342 - Loaded System Directive: org.apache.velocity.runtime.directive.Literal
2014-09-30 19:25:39,342 - Loaded System Directive: org.apache.velocity.runtime.directive.Macro
2014-09-30 19:25:39,342 - Loaded System Directive: org.apache.velocity.runtime.directive.Parse
2014-09-30 19:25:39,342 - Loaded System Directive: org.apache.velocity.runtime.directive.Include
2014-09-30 19:25:39,342 - Loaded System Directive: org.apache.velocity.runtime.directive.Foreach
2014-09-30 19:25:39,343 - Created '20' parsers.
2014-09-30 19:25:39,343 - Velocimacro : "velocimacro.library" is not set.  Trying default library: VM_global_library.vm
2014-09-30 19:25:39,343 - Velocimacro : Default library not found.
2014-09-30 19:25:39,343 - Velocimacro : allowInline = true : VMs can be defined inline in templates
2014-09-30 19:25:39,343 - Velocimacro : allowInlineToOverride = false : VMs defined inline may NOT replace previous VM definitions
2014-09-30 19:25:39,343 - Velocimacro : allowInlineLocal = false : VMs defined inline will be global in scope if allowed.
2014-09-30 19:25:39,343 - Velocimacro : autoload off : VM system will not automatically reload global library macros
2014-09-30 19:25:39,343 - ResourceManager : found repository/resources/entitlement-templates/mock_xacml_policy_template.xml with loader org.apache.velocity.runtime.resource.loader.FileResourceLoader
2014-09-30 19:25:39,487 - Log4JLogChute initialized using file 'velocity.log'
2014-09-30 19:25:39,488 - Starting Apache Velocity v1.5 (compiled: 2007-02-22 08:52:29)
2014-09-30 19:25:39,488 - Default Properties File: org/apache/velocity/runtime/defaults/velocity.properties
2014-09-30 19:25:39,488 - Trying to use logger class org.apache.velocity.runtime.log.AvalonLogChute
2014-09-30 19:25:39,488 - Couldn't find class org.apache.velocity.runtime.log.AvalonLogChute or necessary supporting classes in classpath.
java.lang.NoClassDefFoundError: org/apache/log/format/Formatter
	at java.lang.Class.forName0(Native Method)
	at java.lang.Class.forName(Class.java:249)
	at org.apache.velocity.util.ClassUtils.getClass(ClassUtils.java:63)
	at org.apache.velocity.util.ClassUtils.getNewInstance(ClassUtils.java:95)
	at org.apache.velocity.runtime.log.LogManager.createLogChute(LogManager.java:147)
	at org.apache.velocity.runtime.log.LogManager.updateLog(LogManager.java:208)
	at org.apache.velocity.runtime.RuntimeInstance.initializeLog(RuntimeInstance.java:728)
	at org.apache.velocity.runtime.RuntimeInstance.init(RuntimeInstance.java:240)
	at org.apache.velocity.app.VelocityEngine.init(VelocityEngine.java:116)
	at org.wso2.carbon.appmgt.impl.entitlement.XACMLTemplateBuilder.<init>(XACMLTemplateBuilder.java:46)
	at org.wso2.carbon.appmgt.impl.entitlement.XacmlEntitlementServiceImpl.generateAndSaveEntitlementPolicies(XacmlEntitlementServiceImpl.java:170)
	at org.wso2.carbon.appmgt.impl.APIProviderImpl.generateEntitlementPolicies(APIProviderImpl.java:418)
	at org.wso2.carbon.appmgt.impl.UserAwareAPIProvider.generateEntitlementPolicies(UserAwareAPIProvider.java:130)
	at org.wso2.carbon.appmgt.hostobjects.APIProviderHostObject.jsFunction_generateEntitlementPolicies(APIProviderHostObject.java:557)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:126)
	at org.mozilla.javascript.FunctionObject.call(FunctionObject.java:386)
	at org.mozilla.javascript.optimizer.OptRuntime.call1(OptRuntime.java:32)
	at org.jaggeryjs.rhino.publisher.assets.default.c1._c_generateEntitlementPolicies_10(/publisher/assets/default/asset.jag:313)
	at org.jaggeryjs.rhino.publisher.assets.default.c1.call(/publisher/assets/default/asset.jag)
	at org.mozilla.javascript.optimizer.OptRuntime.callName(OptRuntime.java:63)
	at org.jaggeryjs.rhino.publisher.assets.default.c1._c_anonymous_8(/publisher/assets/default/asset.jag:288)
	at org.jaggeryjs.rhino.publisher.assets.default.c1.call(/publisher/assets/default/asset.jag)
	at org.mozilla.javascript.optimizer.OptRuntime.call1(OptRuntime.java:32)
	at org.jaggeryjs.rhino.publisher.modules.c4._c_anonymous_12(/publisher/modules/router-g.js:183)
	at org.jaggeryjs.rhino.publisher.modules.c4.call(/publisher/modules/router-g.js)
	at org.mozilla.javascript.optimizer.OptRuntime.call2(OptRuntime.java:42)
	at org.jaggeryjs.rhino.publisher.assets.default.c1._c_anonymous_1(/publisher/assets/default/asset.jag:531)
	at org.jaggeryjs.rhino.publisher.assets.default.c1.call(/publisher/assets/default/asset.jag)
	at org.mozilla.javascript.ScriptRuntime.applyOrCall(ScriptRuntime.java:2430)
	at org.mozilla.javascript.BaseFunction.execIdCall(BaseFunction.java:269)
	at org.mozilla.javascript.IdFunctionObject.call(IdFunctionObject.java:97)
	at org.mozilla.javascript.optimizer.OptRuntime.call2(OptRuntime.java:42)
	at org.jaggeryjs.rhino.publisher.modules.c6._c_anonymous_17(/publisher/modules/publisher.js:438)
	at org.jaggeryjs.rhino.publisher.modules.c6.call(/publisher/modules/publisher.js)
	at org.mozilla.javascript.optimizer.OptRuntime.call0(OptRuntime.java:23)
	at org.mozilla.javascript.gen._store__server_js_4._c_anonymous_17([store]/server.js:271)
	at org.mozilla.javascript.gen._store__server_js_4.call([store]/server.js)
	at org.mozilla.javascript.optimizer.OptRuntime.call2(OptRuntime.java:42)
	at org.jaggeryjs.rhino.publisher.modules.c6._c_anonymous_16(/publisher/modules/publisher.js:433)
	at org.jaggeryjs.rhino.publisher.modules.c6.call(/publisher/modules/publisher.js)
	at org.mozilla.javascript.optimizer.OptRuntime.callN(OptRuntime.java:52)
	at org.jaggeryjs.rhino.publisher.assets.default.c1._c_script_0(/publisher/assets/default/asset.jag:17)
	at org.jaggeryjs.rhino.publisher.assets.default.c1.call(/publisher/assets/default/asset.jag)
	at org.jaggeryjs.rhino.publisher.assets.default.c1.exec(/publisher/assets/default/asset.jag)
	at org.jaggeryjs.scriptengine.engine.RhinoEngine.execScript(RhinoEngine.java:567)
	at org.jaggeryjs.scriptengine.engine.RhinoEngine.exec(RhinoEngine.java:273)
	at org.jaggeryjs.jaggery.core.manager.WebAppManager.executeScript(WebAppManager.java:279)
	at org.jaggeryjs.jaggery.core.manager.WebAppManager.include(WebAppManager.java:133)
	at sun.reflect.GeneratedMethodAccessor104.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:126)
	at org.mozilla.javascript.FunctionObject.call(FunctionObject.java:386)
	at org.mozilla.javascript.optimizer.OptRuntime.callName(OptRuntime.java:63)
	at org.jaggeryjs.rhino.publisher.controllers.c3._c_anonymous_1(/publisher/controllers/asset_router.jag:87)
	at org.jaggeryjs.rhino.publisher.controllers.c3.call(/publisher/controllers/asset_router.jag)
	at org.mozilla.javascript.optimizer.OptRuntime.call0(OptRuntime.java:23)
	at org.jaggeryjs.rhino.publisher.controllers.c3._c_script_0(/publisher/controllers/asset_router.jag:8)
	at org.jaggeryjs.rhino.publisher.controllers.c3.call(/publisher/controllers/asset_router.jag)
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:394)
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3091)
	at org.jaggeryjs.rhino.publisher.controllers.c3.call(/publisher/controllers/asset_router.jag)
	at org.jaggeryjs.rhino.publisher.controllers.c3.exec(/publisher/controllers/asset_router.jag)
	at org.jaggeryjs.scriptengine.engine.RhinoEngine.execScript(RhinoEngine.java:567)
	at org.jaggeryjs.scriptengine.engine.RhinoEngine.exec(RhinoEngine.java:273)
	at org.jaggeryjs.jaggery.core.manager.WebAppManager.execute(WebAppManager.java:536)
	at org.jaggeryjs.jaggery.core.JaggeryServlet.doPost(JaggeryServlet.java:29)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:755)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:848)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:749)
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:487)
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:379)
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:339)
	at org.jaggeryjs.jaggery.core.JaggeryFilter.doFilter(JaggeryFilter.java:21)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:99)
	at org.wso2.carbon.tomcat.ext.valves.CompositeValve.continueInvocation(CompositeValve.java:178)
	at org.wso2.carbon.tomcat.ext.valves.CarbonTomcatValve$1.invoke(CarbonTomcatValve.java:47)
	at org.wso2.carbon.webapp.mgt.TenantLazyLoaderValve.invoke(TenantLazyLoaderValve.java:56)
	at org.wso2.carbon.tomcat.ext.valves.TomcatValveContainer.invokeValves(TomcatValveContainer.java:47)
	at org.wso2.carbon.tomcat.ext.valves.CompositeValve.invoke(CompositeValve.java:141)
	at org.wso2.carbon.tomcat.ext.valves.CarbonStuckThreadDetectionValve.invoke(CarbonStuckThreadDetectionValve.java:156)
	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:936)
	at org.wso2.carbon.tomcat.ext.valves.CarbonContextCreatorValve.invoke(CarbonContextCreatorValve.java:52)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1004)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:589)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1653)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:895)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:918)
	at java.lang.Thread.run(Thread.java:662)
Caused by: java.lang.ClassNotFoundException: org.apache.log.format.Formatter
	at org.eclipse.osgi.internal.loader.BundleLoader.findClassInternal(BundleLoader.java:501)
	at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:421)
	at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:412)
	at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass(DefaultClassLoader.java:107)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:247)
	... 103 more
2014-09-30 19:25:39,489 - Trying to use logger class org.apache.velocity.runtime.log.Log4JLogChute
2014-09-30 19:25:39,489 - Using logger class org.apache.velocity.runtime.log.Log4JLogChute
2014-09-30 19:25:39,490 - Default ResourceManager initializing. (class org.apache.velocity.runtime.resource.ResourceManagerImpl)
2014-09-30 19:25:39,490 - ResourceLoader instantiated: org.apache.velocity.runtime.resource.loader.FileResourceLoader
2014-09-30 19:25:39,490 - Do unicode file recognition:  false
2014-09-30 19:25:39,490 - FileResourceLoader : adding path '.'
2014-09-30 19:25:39,490 - ResourceCache: initialized (class org.apache.velocity.runtime.resource.ResourceCacheImpl)
2014-09-30 19:25:39,490 - Loaded System Directive: org.apache.velocity.runtime.directive.Literal
2014-09-30 19:25:39,490 - Loaded System Directive: org.apache.velocity.runtime.directive.Macro
2014-09-30 19:25:39,490 - Loaded System Directive: org.apache.velocity.runtime.directive.Parse
2014-09-30 19:25:39,490 - Loaded System Directive: org.apache.velocity.runtime.directive.Include
2014-09-30 19:25:39,490 - Loaded System Directive: org.apache.velocity.runtime.directive.Foreach
2014-09-30 19:25:39,490 - Created '20' parsers.
2014-09-30 19:25:39,490 - Velocimacro : "velocimacro.library" is not set.  Trying default library: VM_global_library.vm
2014-09-30 19:25:39,490 - Velocimacro : Default library not found.
2014-09-30 19:25:39,490 - Velocimacro : allowInline = true : VMs can be defined inline in templates
2014-09-30 19:25:39,490 - Velocimacro : allowInlineToOverride = false : VMs defined inline may NOT replace previous VM definitions
2014-09-30 19:25:39,490 - Velocimacro : allowInlineLocal = false : VMs defined inline will be global in scope if allowed.
2014-09-30 19:25:39,491 - Velocimacro : autoload off : VM system will not automatically reload global library macros
2014-09-30 19:25:39,491 - ResourceManager : found repository/resources/entitlement-templates/xacml_policy_template.xml with loader org.apache.velocity.runtime.resource.loader.FileResourceLoader
2014-09-30 19:25:40,149 - Log4JLogChute initialized using file 'velocity.log'
2014-09-30 19:25:40,151 - Starting Apache Velocity v1.5 (compiled: 2007-02-22 08:52:29)
2014-09-30 19:25:40,151 - Default Properties File: org/apache/velocity/runtime/defaults/velocity.properties
2014-09-30 19:25:40,151 - Trying to use logger class org.apache.velocity.runtime.log.AvalonLogChute
2014-09-30 19:25:40,151 - Couldn't find class org.apache.velocity.runtime.log.AvalonLogChute or necessary supporting classes in classpath.
java.lang.NoClassDefFoundError: org/apache/log/format/Formatter
	at java.lang.Class.forName0(Native Method)
	at java.lang.Class.forName(Class.java:249)
	at org.apache.velocity.util.ClassUtils.getClass(ClassUtils.java:63)
	at org.apache.velocity.util.ClassUtils.getNewInstance(ClassUtils.java:95)
	at org.apache.velocity.runtime.log.LogManager.createLogChute(LogManager.java:147)
	at org.apache.velocity.runtime.log.LogManager.updateLog(LogManager.java:208)
	at org.apache.velocity.runtime.RuntimeInstance.initializeLog(RuntimeInstance.java:728)
	at org.apache.velocity.runtime.RuntimeInstance.init(RuntimeInstance.java:240)
	at org.apache.velocity.app.VelocityEngine.init(VelocityEngine.java:116)
	at org.wso2.carbon.appmgt.impl.template.APITemplateBuilderImpl.getConfigStringForTemplate(APITemplateBuilderImpl.java:82)
	at org.wso2.carbon.appmgt.impl.utils.RESTAPIAdminClient.addApi(RESTAPIAdminClient.java:50)
	at org.wso2.carbon.appmgt.impl.APIGatewayManager.publishToGateway(APIGatewayManager.java:132)
	at org.wso2.carbon.appmgt.impl.APIProviderImpl.publishToGateway(APIProviderImpl.java:802)
	at org.wso2.carbon.appmgt.impl.APIProviderImpl.changeAPIStatus(APIProviderImpl.java:755)
	at org.wso2.carbon.appmgt.impl.UserAwareAPIProvider.changeAPIStatus(UserAwareAPIProvider.java:78)
	at org.wso2.carbon.appmgt.impl.workflow.PublishAPPSimpleWorkflowExecutor.complete(PublishAPPSimpleWorkflowExecutor.java:83)
	at org.wso2.carbon.appmgt.impl.extensions.custom.ApprovalActionEventExecutor.execute(ApprovalActionEventExecutor.java:119)
	at org.wso2.jaggery.scxml.aspects.JaggeryTravellingPermissionLifeCycle.runCustomExecutorsCode(JaggeryTravellingPermissionLifeCycle.java:702)
	at org.wso2.jaggery.scxml.aspects.JaggeryTravellingPermissionLifeCycle.invoke(JaggeryTravellingPermissionLifeCycle.java:439)
	at org.wso2.carbon.governance.registry.eventing.handlers.GovernanceEventingHandler.invokeAspect(GovernanceEventingHandler.java:243)
	at org.wso2.carbon.registry.core.jdbc.handlers.HandlerManager.invokeAspect(HandlerManager.java:2792)
	at org.wso2.carbon.registry.core.jdbc.handlers.HandlerLifecycleManager.invokeAspect(HandlerLifecycleManager.java:531)
	at org.wso2.carbon.registry.core.jdbc.EmbeddedRegistry.invokeAspect(EmbeddedRegistry.java:2550)
	at org.wso2.carbon.registry.core.caching.CacheBackedRegistry.invokeAspect(CacheBackedRegistry.java:427)
	at org.wso2.carbon.registry.core.session.UserRegistry.invokeAspect(UserRegistry.java:1425)
	at org.wso2.carbon.governance.api.common.dataobjects.GovernanceArtifactImpl.invokeAction(GovernanceArtifactImpl.java:625)
	at org.wso2.carbon.governance.api.common.dataobjects.GovernanceArtifactImpl.invokeAction(GovernanceArtifactImpl.java:605)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:126)
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:225)
	at org.mozilla.javascript.optimizer.OptRuntime.call1(OptRuntime.java:32)
	at org.mozilla.javascript.gen.artifacts_25._c_anonymous_21(artifacts:283)
	at org.mozilla.javascript.gen.artifacts_25.call(artifacts)
	at org.mozilla.javascript.optimizer.OptRuntime.call2(OptRuntime.java:42)
	at org.jaggeryjs.rhino.publisher.apis.v_1.c4._c_anonymous_9(/publisher/apis/v1/lifecycle_api_router.jag:163)
	at org.jaggeryjs.rhino.publisher.apis.v_1.c4.call(/publisher/apis/v1/lifecycle_api_router.jag)
	at org.mozilla.javascript.optimizer.OptRuntime.call1(OptRuntime.java:32)
	at org.jaggeryjs.rhino.publisher.modules.c4._c_anonymous_12(/publisher/modules/router-g.js:183)
	at org.jaggeryjs.rhino.publisher.modules.c4.call(/publisher/modules/router-g.js)
	at org.mozilla.javascript.optimizer.OptRuntime.call2(OptRuntime.java:42)
	at org.jaggeryjs.rhino.publisher.apis.v_1.c4._c_anonymous_1(/publisher/apis/v1/lifecycle_api_router.jag:431)
	at org.jaggeryjs.rhino.publisher.apis.v_1.c4.call(/publisher/apis/v1/lifecycle_api_router.jag)
	at org.mozilla.javascript.ScriptRuntime.applyOrCall(ScriptRuntime.java:2430)
	at org.mozilla.javascript.BaseFunction.execIdCall(BaseFunction.java:269)
	at org.mozilla.javascript.IdFunctionObject.call(IdFunctionObject.java:97)
	at org.mozilla.javascript.optimizer.OptRuntime.call2(OptRuntime.java:42)
	at org.jaggeryjs.rhino.publisher.modules.c6._c_anonymous_17(/publisher/modules/publisher.js:438)
	at org.jaggeryjs.rhino.publisher.modules.c6.call(/publisher/modules/publisher.js)
	at org.mozilla.javascript.optimizer.OptRuntime.call0(OptRuntime.java:23)
	at org.mozilla.javascript.gen._store__server_js_4._c_anonymous_17([store]/server.js:271)
	at org.mozilla.javascript.gen._store__server_js_4.call([store]/server.js)
	at org.mozilla.javascript.optimizer.OptRuntime.call2(OptRuntime.java:42)
	at org.jaggeryjs.rhino.publisher.modules.c6._c_anonymous_16(/publisher/modules/publisher.js:433)
	at org.jaggeryjs.rhino.publisher.modules.c6.call(/publisher/modules/publisher.js)
	at org.mozilla.javascript.optimizer.OptRuntime.callN(OptRuntime.java:52)
	at org.jaggeryjs.rhino.publisher.apis.v_1.c4._c_script_0(/publisher/apis/v1/lifecycle_api_router.jag:24)
	at org.jaggeryjs.rhino.publisher.apis.v_1.c4.call(/publisher/apis/v1/lifecycle_api_router.jag)
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:394)
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3091)
	at org.jaggeryjs.rhino.publisher.apis.v_1.c4.call(/publisher/apis/v1/lifecycle_api_router.jag)
	at org.jaggeryjs.rhino.publisher.apis.v_1.c4.exec(/publisher/apis/v1/lifecycle_api_router.jag)
	at org.jaggeryjs.scriptengine.engine.RhinoEngine.execScript(RhinoEngine.java:567)
	at org.jaggeryjs.scriptengine.engine.RhinoEngine.exec(RhinoEngine.java:273)
	at org.jaggeryjs.jaggery.core.manager.WebAppManager.execute(WebAppManager.java:536)
	at org.jaggeryjs.jaggery.core.JaggeryServlet.doPut(JaggeryServlet.java:39)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:758)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:848)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:749)
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:487)
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:379)
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:339)
	at org.jaggeryjs.jaggery.core.JaggeryFilter.doFilter(JaggeryFilter.java:21)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:99)
	at org.wso2.carbon.tomcat.ext.valves.CompositeValve.continueInvocation(CompositeValve.java:178)
	at org.wso2.carbon.tomcat.ext.valves.CarbonTomcatValve$1.invoke(CarbonTomcatValve.java:47)
	at org.wso2.carbon.webapp.mgt.TenantLazyLoaderValve.invoke(TenantLazyLoaderValve.java:56)
	at org.wso2.carbon.tomcat.ext.valves.TomcatValveContainer.invokeValves(TomcatValveContainer.java:47)
	at org.wso2.carbon.tomcat.ext.valves.CompositeValve.invoke(CompositeValve.java:141)
	at org.wso2.carbon.tomcat.ext.valves.CarbonStuckThreadDetectionValve.invoke(CarbonStuckThreadDetectionValve.java:156)
	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:936)
	at org.wso2.carbon.tomcat.ext.valves.CarbonContextCreatorValve.invoke(CarbonContextCreatorValve.java:52)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1004)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:589)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1653)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:895)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:918)
	at java.lang.Thread.run(Thread.java:662)
Caused by: java.lang.ClassNotFoundException: org.apache.log.format.Formatter
	at org.eclipse.osgi.internal.loader.BundleLoader.findClassInternal(BundleLoader.java:501)
	at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:421)
	at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:412)
	at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass(DefaultClassLoader.java:107)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:247)
	... 100 more
2014-09-30 19:25:40,152 - Trying to use logger class org.apache.velocity.runtime.log.Log4JLogChute
2014-09-30 19:25:40,152 - Using logger class org.apache.velocity.runtime.log.Log4JLogChute
2014-09-30 19:25:40,152 - Default ResourceManager initializing. (class org.apache.velocity.runtime.resource.ResourceManagerImpl)
2014-09-30 19:25:40,152 - ResourceLoader instantiated: org.apache.velocity.runtime.resource.loader.FileResourceLoader
2014-09-30 19:25:40,152 - Do unicode file recognition:  false
2014-09-30 19:25:40,152 - FileResourceLoader : adding path '.'
2014-09-30 19:25:40,153 - ResourceCache: initialized (class org.apache.velocity.runtime.resource.ResourceCacheImpl)
2014-09-30 19:25:40,153 - Loaded System Directive: org.apache.velocity.runtime.directive.Literal
2014-09-30 19:25:40,153 - Loaded System Directive: org.apache.velocity.runtime.directive.Macro
2014-09-30 19:25:40,153 - Loaded System Directive: org.apache.velocity.runtime.directive.Parse
2014-09-30 19:25:40,153 - Loaded System Directive: org.apache.velocity.runtime.directive.Include
2014-09-30 19:25:40,153 - Loaded System Directive: org.apache.velocity.runtime.directive.Foreach
2014-09-30 19:25:40,154 - Created '20' parsers.
2014-09-30 19:25:40,154 - Velocimacro : "velocimacro.library" is not set.  Trying default library: VM_global_library.vm
2014-09-30 19:25:40,154 - Velocimacro : Default library not found.
2014-09-30 19:25:40,154 - Velocimacro : allowInline = true : VMs can be defined inline in templates
2014-09-30 19:25:40,154 - Velocimacro : allowInlineToOverride = false : VMs defined inline may NOT replace previous VM definitions
2014-09-30 19:25:40,154 - Velocimacro : allowInlineLocal = false : VMs defined inline will be global in scope if allowed.
2014-09-30 19:25:40,154 - Velocimacro : autoload off : VM system will not automatically reload global library macros
2014-09-30 19:25:40,155 - Velocimacro : added #print_if_exist(  field default ) : source = repository/resources/api_templates/velocity_template.xml
2014-09-30 19:25:40,155 - Velocimacro : added #print_list(  list default ) : source = repository/resources/api_templates/velocity_template.xml
2014-09-30 19:25:40,156 - Velocimacro : added #timeout(  config ) : source = repository/resources/api_templates/velocity_template.xml
2014-09-30 19:25:40,156 - Velocimacro : added #http_endpoint(  name ep ) : source = repository/resources/api_templates/velocity_template.xml
2014-09-30 19:25:40,157 - Velocimacro : added #draw_endpoint(  type endpoint_config ) : source = repository/resources/api_templates/velocity_template.xml
2014-09-30 19:25:40,164 - ResourceManager : found repository/resources/api_templates/velocity_template.xml with loader org.apache.velocity.runtime.resource.loader.FileResourceLoader
2014-09-30 19:25:40,165 - VM #timeout: error : too few arguments to macro. Wanted 1 got 0
2014-09-30 19:25:40,169 - Left side ($config.get("actionSelect")) of '==' operation has null value. If a reference, it may not be in the context. Operation not possible. repository/resources/api_templates/velocity_template.xml [line 1, column 40]
2014-09-30 19:25:40,170 - Left side ($config.get("actionSelect")) of '==' operation has null value. If a reference, it may not be in the context. Operation not possible. repository/resources/api_templates/velocity_template.xml [line 1, column 40]
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:126)
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:225)
	at org.mozilla.javascript.optimizer.OptRuntime.call1(OptRuntime.java:32)
	at org.mozilla.javascript.gen.artifacts_25._c_anonymous_21(artifacts:283)
	at org.mozilla.javascript.gen.artifacts_25.call(artifacts)
	at org.mozilla.javascript.optimizer.OptRuntime.call2(OptRuntime.java:42)
	at org.jaggeryjs.rhino.publisher.apis.v_1.c4._c_anonymous_9(/publisher/apis/v1/lifecycle_api_router.jag:163)
	at org.jaggeryjs.rhino.publisher.apis.v_1.c4.call(/publisher/apis/v1/lifecycle_api_router.jag)
	at org.mozilla.javascript.optimizer.OptRuntime.call1(OptRuntime.java:32)
	at org.jaggeryjs.rhino.publisher.modules.c4._c_anonymous_12(/publisher/modules/router-g.js:183)
	at org.jaggeryjs.rhino.publisher.modules.c4.call(/publisher/modules/router-g.js)
	at org.mozilla.javascript.optimizer.OptRuntime.call2(OptRuntime.java:42)
	at org.jaggeryjs.rhino.publisher.apis.v_1.c4._c_anonymous_1(/publisher/apis/v1/lifecycle_api_router.jag:431)
	at org.jaggeryjs.rhino.publisher.apis.v_1.c4.call(/publisher/apis/v1/lifecycle_api_router.jag)
	at org.mozilla.javascript.ScriptRuntime.applyOrCall(ScriptRuntime.java:2430)
	at org.mozilla.javascript.BaseFunction.execIdCall(BaseFunction.java:269)
	at org.mozilla.javascript.IdFunctionObject.call(IdFunctionObject.java:97)
	at org.mozilla.javascript.optimizer.OptRuntime.call2(OptRuntime.java:42)
	at org.jaggeryjs.rhino.publisher.modules.c6._c_anonymous_17(/publisher/modules/publisher.js:438)
	at org.jaggeryjs.rhino.publisher.modules.c6.call(/publisher/modules/publisher.js)
	at org.mozilla.javascript.optimizer.OptRuntime.call0(OptRuntime.java:23)
	at org.mozilla.javascript.gen._store__server_js_4._c_anonymous_17([store]/server.js:271)
	at org.mozilla.javascript.gen._store__server_js_4.call([store]/server.js)
	at org.mozilla.javascript.optimizer.OptRuntime.call2(OptRuntime.java:42)
	at org.jaggeryjs.rhino.publisher.modules.c6._c_anonymous_16(/publisher/modules/publisher.js:433)
	at org.jaggeryjs.rhino.publisher.modules.c6.call(/publisher/modules/publisher.js)
	at org.mozilla.javascript.optimizer.OptRuntime.callN(OptRuntime.java:52)
	at org.jaggeryjs.rhino.publisher.apis.v_1.c4._c_script_0(/publisher/apis/v1/lifecycle_api_router.jag:24)
	at org.jaggeryjs.rhino.publisher.apis.v_1.c4.call(/publisher/apis/v1/lifecycle_api_router.jag)
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:394)
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3091)
	at org.jaggeryjs.rhino.publisher.apis.v_1.c4.call(/publisher/apis/v1/lifecycle_api_router.jag)
	at org.jaggeryjs.rhino.publisher.apis.v_1.c4.exec(/publisher/apis/v1/lifecycle_api_router.jag)
	at org.jaggeryjs.scriptengine.engine.RhinoEngine.execScript(RhinoEngine.java:567)
	at org.jaggeryjs.scriptengine.engine.RhinoEngine.exec(RhinoEngine.java:273)
	at org.jaggeryjs.jaggery.core.manager.WebAppManager.execute(WebAppManager.java:536)
	at org.jaggeryjs.jaggery.core.JaggeryServlet.doPut(JaggeryServlet.java:39)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:758)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:848)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:749)
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:487)
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:379)
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:339)
	at org.jaggeryjs.jaggery.core.JaggeryFilter.doFilter(JaggeryFilter.java:21)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:99)
	at org.wso2.carbon.tomcat.ext.valves.CompositeValve.continueInvocation(CompositeValve.java:178)
	at org.wso2.carbon.tomcat.ext.valves.CarbonTomcatValve$1.invoke(CarbonTomcatValve.java:47)
	at org.wso2.carbon.webapp.mgt.TenantLazyLoaderValve.invoke(TenantLazyLoaderValve.java:56)
	at org.wso2.carbon.tomcat.ext.valves.TomcatValveContainer.invokeValves(TomcatValveContainer.java:47)
	at org.wso2.carbon.tomcat.ext.valves.CompositeValve.invoke(CompositeValve.java:141)
	at org.wso2.carbon.tomcat.ext.valves.CarbonStuckThreadDetectionValve.invoke(CarbonStuckThreadDetectionValve.java:156)
	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:936)
	at org.wso2.carbon.tomcat.ext.valves.CarbonContextCreatorValve.invoke(CarbonContextCreatorValve.java:52)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1004)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:589)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1653)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:895)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:918)
	at java.lang.Thread.run(Thread.java:662)
Caused by: java.lang.ClassNotFoundException: org.apache.log.format.Formatter
	at org.eclipse.osgi.internal.loader.BundleLoader.findClassInternal(BundleLoader.java:501)
	at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:421)
	at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:412)
	at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass(DefaultClassLoader.java:107)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:247)
	... 100 more
2014-09-30 19:25:40,151 - Couldn't find class org.apache.velocity.runtime.log.AvalonLogChute or necessary supporting classes in classpath.
java.lang.NoClassDefFoundError: org/apache/log/format/Formatter
	at java.lang.Class.forName0(Native Method)
	at java.lang.Class.forName(Class.java:249)
	at org.apache.velocity.util.ClassUtils.getClass(ClassUtils.java:63)
	at org.apache.velocity.util.ClassUtils.getNewInstance(ClassUtils.java:95)
	at org.apache.velocity.runtime.log.LogManager.createLogChute(LogManager.java:147)
	at org.apache.velocity.runtime.log.LogManager.updateLog(LogManager.java:208)
	at org.apache.velocity.runtime.RuntimeInstance.initializeLog(RuntimeInstance.java:728)
	at org.apache.velocity.runtime.RuntimeInstance.init(RuntimeInstance.java:240)
	at org.apache.velocity.app.VelocityEngine.init(VelocityEngine.java:116)
	at org.wso2.carbon.appmgt.impl.template.APITemplateBuilderImpl.getConfigStringForTemplate(APITemplateBuilderImpl.java:82)
	at org.wso2.carbon.appmgt.impl.utils.RESTAPIAdminClient.addApi(RESTAPIAdminClient.java:50)
	at org.wso2.carbon.appmgt.impl.APIGatewayManager.publishToGateway(APIGatewayManager.java:132)
	at org.wso2.carbon.appmgt.impl.APIProviderImpl.publishToGateway(APIProviderImpl.java:802)
	at org.wso2.carbon.appmgt.impl.APIProviderImpl.changeAPIStatus(APIProviderImpl.java:755)
	at org.wso2.carbon.appmgt.impl.UserAwareAPIProvider.changeAPIStatus(UserAwareAPIProvider.java:78)
	at org.wso2.carbon.appmgt.impl.workflow.PublishAPPSimpleWorkflowExecutor.complete(PublishAPPSimpleWorkflowExecutor.java:83)
	at org.wso2.carbon.appmgt.impl.extensions.custom.ApprovalActionEventExecutor.execute(ApprovalActionEventExecutor.java:119)
	at org.wso2.jaggery.scxml.aspects.JaggeryTravellingPermissionLifeCycle.runCustomExecutorsCode(JaggeryTravellingPermissionLifeCycle.java:702)
	at org.wso2.jaggery.scxml.aspects.JaggeryTravellingPermissionLifeCycle.invoke(JaggeryTravellingPermissionLifeCycle.java:439)
	at org.wso2.carbon.governance.registry.eventing.handlers.GovernanceEventingHandler.invokeAspect(GovernanceEventingHandler.java:243)
	at org.wso2.carbon.registry.core.jdbc.handlers.HandlerManager.invokeAspect(HandlerManager.java:2792)
	at org.wso2.carbon.registry.core.jdbc.handlers.HandlerLifecycleManager.invokeAspect(HandlerLifecycleManager.java:531)
	at org.wso2.carbon.registry.core.jdbc.EmbeddedRegistry.invokeAspect(EmbeddedRegistry.java:2550)
	at org.wso2.carbon.registry.core.caching.CacheBackedRegistry.invokeAspect(CacheBackedRegistry.java:427)
	at org.wso2.carbon.registry.core.session.UserRegistry.invokeAspect(UserRegistry.java:1425)
	at org.wso2.carbon.governance.api.common.dataobjects.GovernanceArtifactImpl.invokeAction(GovernanceArtifactImpl.java:625)
	at org.wso2.carbon.governance.api.common.dataobjects.GovernanceArtifactImpl.invokeAction(GovernanceArtifactImpl.java:605)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:126)
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:225)
	at org.mozilla.javascript.optimizer.OptRuntime.call1(OptRuntime.java:32)
	at org.mozilla.javascript.gen.artifacts_25._c_anonymous_21(artifacts:283)
	at org.mozilla.javascript.gen.artifacts_25.call(artifacts)
	at org.mozilla.javascript.optimizer.OptRuntime.call2(OptRuntime.java:42)
	at org.jaggeryjs.rhino.publisher.apis.v_1.c4._c_anonymous_9(/publisher/apis/v1/lifecycle_api_router.jag:163)
	at org.jaggeryjs.rhino.publisher.apis.v_1.c4.call(/publisher/apis/v1/lifecycle_api_router.jag)
	at org.mozilla.javascript.optimizer.OptRuntime.call1(OptRuntime.java:32)
	at org.jaggeryjs.rhino.publisher.modules.c4._c_anonymous_12(/publisher/modules/router-g.js:183)
	at org.jaggeryjs.rhino.publisher.modules.c4.call(/publisher/modules/router-g.js)
	at org.mozilla.javascript.optimizer.OptRuntime.call2(OptRuntime.java:42)
	at org.jaggeryjs.rhino.publisher.apis.v_1.c4._c_anonymous_1(/publisher/apis/v1/lifecycle_api_router.jag:431)
	at org.jaggeryjs.rhino.publisher.apis.v_1.c4.call(/publisher/apis/v1/lifecycle_api_router.jag)
	at org.mozilla.javascript.ScriptRuntime.applyOrCall(ScriptRuntime.java:2430)
	at org.mozilla.javascript.BaseFunction.execIdCall(BaseFunction.java:269)
	at org.mozilla.javascript.IdFunctionObject.call(IdFunctionObject.java:97)
	at org.mozilla.javascript.optimizer.OptRuntime.call2(OptRuntime.java:42)
	at org.jaggeryjs.rhino.publisher.modules.c6._c_anonymous_17(/publisher/modules/publisher.js:438)
	at org.jaggeryjs.rhino.publisher.modules.c6.call(/publisher/modules/publisher.js)
	at org.mozilla.javascript.optimizer.OptRuntime.call0(OptRuntime.java:23)
	at org.mozilla.javascript.gen._store__server_js_4._c_anonymous_17([store]/server.js:271)
	at org.mozilla.javascript.gen._store__server_js_4.call([store]/server.js)
	at org.mozilla.javascript.optimizer.OptRuntime.call2(OptRuntime.java:42)
	at org.jaggeryjs.rhino.publisher.modules.c6._c_anonymous_16(/publisher/modules/publisher.js:433)
	at org.jaggeryjs.rhino.publisher.modules.c6.call(/publisher/modules/publisher.js)
	at org.mozilla.javascript.optimizer.OptRuntime.callN(OptRuntime.java:52)
	at org.jaggeryjs.rhino.publisher.apis.v_1.c4._c_script_0(/publisher/apis/v1/lifecycle_api_router.jag:24)
	at org.jaggeryjs.rhino.publisher.apis.v_1.c4.call(/publisher/apis/v1/lifecycle_api_router.jag)
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:394)
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3091)
	at org.jaggeryjs.rhino.publisher.apis.v_1.c4.call(/publisher/apis/v1/lifecycle_api_router.jag)
	at org.jaggeryjs.rhino.publisher.apis.v_1.c4.exec(/publisher/apis/v1/lifecycle_api_router.jag)
	at org.jaggeryjs.scriptengine.engine.RhinoEngine.execScript(RhinoEngine.java:567)
	at org.jaggeryjs.scriptengine.engine.RhinoEngine.exec(RhinoEngine.java:273)
	at org.jaggeryjs.jaggery.core.manager.WebAppManager.execute(WebAppManager.java:536)
	at org.jaggeryjs.jaggery.core.JaggeryServlet.doPut(JaggeryServlet.java:39)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:758)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:848)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:749)
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:487)
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:379)
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:339)
	at org.jaggeryjs.jaggery.core.JaggeryFilter.doFilter(JaggeryFilter.java:21)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:99)
	at org.wso2.carbon.tomcat.ext.valves.CompositeValve.continueInvocation(CompositeValve.java:178)
	at org.wso2.carbon.tomcat.ext.valves.CarbonTomcatValve$1.invoke(CarbonTomcatValve.java:47)
	at org.wso2.carbon.webapp.mgt.TenantLazyLoaderValve.invoke(TenantLazyLoaderValve.java:56)
	at org.wso2.carbon.tomcat.ext.valves.TomcatValveContainer.invokeValves(TomcatValveContainer.java:47)
	at org.wso2.carbon.tomcat.ext.valves.CompositeValve.invoke(CompositeValve.java:141)
	at org.wso2.carbon.tomcat.ext.valves.CarbonStuckThreadDetectionValve.invoke(CarbonStuckThreadDetectionValve.java:156)
	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:936)
	at org.wso2.carbon.tomcat.ext.valves.CarbonContextCreatorValve.invoke(CarbonContextCreatorValve.java:52)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1004)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:589)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1653)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:895)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:918)
	at java.lang.Thread.run(Thread.java:662)
Caused by: java.lang.ClassNotFoundException: org.apache.log.format.Formatter
	at org.eclipse.osgi.internal.loader.BundleLoader.findClassInternal(BundleLoader.java:501)
	at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:421)
	at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:412)
	at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass(DefaultClassLoader.java:107)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:247)
	... 100 more
2014-09-30 19:25:40,152 - Trying to use logger class org.apache.velocity.runtime.log.Log4JLogChute
2014-09-30 19:25:40,152 - Trying to use logger class org.apache.velocity.runtime.log.Log4JLogChute
2014-09-30 19:25:40,152 - Using logger class org.apache.velocity.runtime.log.Log4JLogChute
2014-09-30 19:25:40,152 - Using logger class org.apache.velocity.runtime.log.Log4JLogChute
2014-09-30 19:25:40,152 - Default ResourceManager initializing. (class org.apache.velocity.runtime.resource.ResourceManagerImpl)
2014-09-30 19:25:40,152 - Default ResourceManager initializing. (class org.apache.velocity.runtime.resource.ResourceManagerImpl)
2014-09-30 19:25:40,152 - ResourceLoader instantiated: org.apache.velocity.runtime.resource.loader.FileResourceLoader
2014-09-30 19:25:40,152 - ResourceLoader instantiated: org.apache.velocity.runtime.resource.loader.FileResourceLoader
2014-09-30 19:25:40,152 - Do unicode file recognition:  false
2014-09-30 19:25:40,152 - Do unicode file recognition:  false
2014-09-30 19:25:40,152 - FileResourceLoader : adding path '.'
2014-09-30 19:25:40,152 - FileResourceLoader : adding path '.'
2014-09-30 19:25:40,153 - ResourceCache: initialized (class org.apache.velocity.runtime.resource.ResourceCacheImpl)
2014-09-30 19:25:40,153 - ResourceCache: initialized (class org.apache.velocity.runtime.resource.ResourceCacheImpl)
2014-09-30 19:25:40,153 - Loaded System Directive: org.apache.velocity.runtime.directive.Literal
2014-09-30 19:25:40,153 - Loaded System Directive: org.apache.velocity.runtime.directive.Literal
2014-09-30 19:25:40,153 - Loaded System Directive: org.apache.velocity.runtime.directive.Macro
2014-09-30 19:25:40,153 - Loaded System Directive: org.apache.velocity.runtime.directive.Macro
2014-09-30 19:25:40,153 - Loaded System Directive: org.apache.velocity.runtime.directive.Parse
2014-09-30 19:25:40,153 - Loaded System Directive: org.apache.velocity.runtime.directive.Parse
2014-09-30 19:25:40,153 - Loaded System Directive: org.apache.velocity.runtime.directive.Include
2014-09-30 19:25:40,153 - Loaded System Directive: org.apache.velocity.runtime.directive.Include
2014-09-30 19:25:40,153 - Loaded System Directive: org.apache.velocity.runtime.directive.Foreach
2014-09-30 19:25:40,153 - Loaded System Directive: org.apache.velocity.runtime.directive.Foreach
2014-09-30 19:25:40,154 - Created '20' parsers.
2014-09-30 19:25:40,154 - Created '20' parsers.
2014-09-30 19:25:40,154 - Velocimacro : "velocimacro.library" is not set.  Trying default library: VM_global_library.vm
2014-09-30 19:25:40,154 - Velocimacro : "velocimacro.library" is not set.  Trying default library: VM_global_library.vm
2014-09-30 19:25:40,154 - Velocimacro : Default library not found.
2014-09-30 19:25:40,154 - Velocimacro : Default library not found.
2014-09-30 19:25:40,154 - Velocimacro : allowInline = true : VMs can be defined inline in templates
2014-09-30 19:25:40,154 - Velocimacro : allowInline = true : VMs can be defined inline in templates
2014-09-30 19:25:40,154 - Velocimacro : allowInlineToOverride = false : VMs defined inline may NOT replace previous VM definitions
2014-09-30 19:25:40,154 - Velocimacro : allowInlineToOverride = false : VMs defined inline may NOT replace previous VM definitions
2014-09-30 19:25:40,154 - Velocimacro : allowInlineLocal = false : VMs defined inline will be global in scope if allowed.
2014-09-30 19:25:40,154 - Velocimacro : allowInlineLocal = false : VMs defined inline will be global in scope if allowed.
2014-09-30 19:25:40,154 - Velocimacro : autoload off : VM system will not automatically reload global library macros
2014-09-30 19:25:40,154 - Velocimacro : autoload off : VM system will not automatically reload global library macros
2014-09-30 19:25:40,155 - Velocimacro : added #print_if_exist(  field default ) : source = repository/resources/api_templates/velocity_template.xml
2014-09-30 19:25:40,155 - Velocimacro : added #print_if_exist(  field default ) : source = repository/resources/api_templates/velocity_template.xml
2014-09-30 19:25:40,155 - Velocimacro : added #print_list(  list default ) : source = repository/resources/api_templates/velocity_template.xml
2014-09-30 19:25:40,155 - Velocimacro : added #print_list(  list default ) : source = repository/resources/api_templates/velocity_template.xml
2014-09-30 19:25:40,156 - Velocimacro : added #timeout(  config ) : source = repository/resources/api_templates/velocity_template.xml
2014-09-30 19:25:40,156 - Velocimacro : added #timeout(  config ) : source = repository/resources/api_templates/velocity_template.xml
2014-09-30 19:25:40,156 - Velocimacro : added #http_endpoint(  name ep ) : source = repository/resources/api_templates/velocity_template.xml
2014-09-30 19:25:40,156 - Velocimacro : added #http_endpoint(  name ep ) : source = repository/resources/api_templates/velocity_template.xml
2014-09-30 19:25:40,157 - Velocimacro : added #draw_endpoint(  type endpoint_config ) : source = repository/resources/api_templates/velocity_template.xml
2014-09-30 19:25:40,157 - Velocimacro : added #draw_endpoint(  type endpoint_config ) : source = repository/resources/api_templates/velocity_template.xml
2014-09-30 19:25:40,164 - ResourceManager : found repository/resources/api_templates/velocity_template.xml with loader org.apache.velocity.runtime.resource.loader.FileResourceLoader
2014-09-30 19:25:40,164 - ResourceManager : found repository/resources/api_templates/velocity_template.xml with loader org.apache.velocity.runtime.resource.loader.FileResourceLoader
2014-09-30 19:25:40,165 - VM #timeout: error : too few arguments to macro. Wanted 1 got 0
2014-09-30 19:25:40,165 - VM #timeout: error : too few arguments to macro. Wanted 1 got 0
2014-09-30 19:25:40,169 - Left side ($config.get("actionSelect")) of '==' operation has null value. If a reference, it may not be in the context. Operation not possible. repository/resources/api_templates/velocity_template.xml [line 1, column 40]
2014-09-30 19:25:40,169 - Left side ($config.get("actionSelect")) of '==' operation has null value. If a reference, it may not be in the context. Operation not possible. repository/resources/api_templates/velocity_template.xml [line 1, column 40]
2014-09-30 19:25:40,170 - Left side ($config.get("actionSelect")) of '==' operation has null value. If a reference, it may not be in the context. Operation not possible. repository/resources/api_templates/velocity_template.xml [line 1, column 40]
2014-09-30 19:25:40,170 - Left side ($config.get("actionSelect")) of '==' operation has null value. If a reference, it may not be in the context. Operation not possible. repository/resources/api_templates/velocity_template.xml [line 1, column 40]
2014-09-30 19:25:54,613 - Log4JLogChute initialized using file 'velocity.log'
2014-09-30 19:25:54,613 - Starting Apache Velocity v1.5 (compiled: 2007-02-22 08:52:29)
2014-09-30 19:25:54,613 - Default Properties File: org/apache/velocity/runtime/defaults/velocity.properties
2014-09-30 19:25:54,613 - Trying to use logger class org.apache.velocity.runtime.log.AvalonLogChute
2014-09-30 19:25:54,613 - Couldn't find class org.apache.velocity.runtime.log.AvalonLogChute or necessary supporting classes in classpath.
java.lang.NoClassDefFoundError: org/apache/log/format/Formatter
	at java.lang.Class.forName0(Native Method)
	at java.lang.Class.forName(Class.java:249)
	at org.apache.velocity.util.ClassUtils.getClass(ClassUtils.java:63)
	at org.apache.velocity.util.ClassUtils.getNewInstance(ClassUtils.java:95)
	at org.apache.velocity.runtime.log.LogManager.createLogChute(LogManager.java:147)
	at org.apache.velocity.runtime.log.LogManager.updateLog(LogManager.java:208)
	at org.apache.velocity.runtime.RuntimeInstance.initializeLog(RuntimeInstance.java:728)
	at org.apache.velocity.runtime.RuntimeInstance.init(RuntimeInstance.java:240)
	at org.apache.velocity.app.VelocityEngine.init(VelocityEngine.java:116)
	at org.wso2.carbon.appmgt.impl.entitlement.XACMLTemplateBuilder.<init>(XACMLTemplateBuilder.java:46)
	at org.wso2.carbon.appmgt.impl.entitlement.XacmlEntitlementServiceImpl.generateMockPolicy(XacmlEntitlementServiceImpl.java:284)
	at org.wso2.carbon.appmgt.impl.entitlement.XacmlEntitlementServiceImpl.validatePolicyPartial(XacmlEntitlementServiceImpl.java:147)
	at org.wso2.carbon.appmgt.impl.APIProviderImpl.validateEntitlementPolicyPartial(APIProviderImpl.java:504)
	at org.wso2.carbon.appmgt.impl.UserAwareAPIProvider.validateEntitlementPolicyPartial(UserAwareAPIProvider.java:36)
	at org.wso2.carbon.appmgt.hostobjects.APIProviderHostObject.jsFunction_validateEntitlementPolicyPartial(APIProviderHostObject.java:697)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:126)
	at org.mozilla.javascript.FunctionObject.call(FunctionObject.java:386)
	at org.mozilla.javascript.optimizer.OptRuntime.call1(OptRuntime.java:32)
	at org.jaggeryjs.rhino.publisher.apis.v_1.c1._c_validateEntitlementPolicyPartial_12(/publisher/apis/v1/entitlement_api_router.jag:74)
	at org.jaggeryjs.rhino.publisher.apis.v_1.c1.call(/publisher/apis/v1/entitlement_api_router.jag)
	at org.mozilla.javascript.optimizer.OptRuntime.callName(OptRuntime.java:63)
	at org.jaggeryjs.rhino.publisher.apis.v_1.c1._c_anonymous_2(/publisher/apis/v1/entitlement_api_router.jag:17)
	at org.jaggeryjs.rhino.publisher.apis.v_1.c1.call(/publisher/apis/v1/entitlement_api_router.jag)
	at org.mozilla.javascript.optimizer.OptRuntime.call1(OptRuntime.java:32)
	at org.jaggeryjs.rhino.publisher.modules.c4._c_anonymous_12(/publisher/modules/router-g.js:183)
	at org.jaggeryjs.rhino.publisher.modules.c4.call(/publisher/modules/router-g.js)
	at org.mozilla.javascript.optimizer.OptRuntime.call2(OptRuntime.java:42)
	at org.jaggeryjs.rhino.publisher.apis.v_1.c1._c_anonymous_1(/publisher/apis/v1/entitlement_api_router.jag:168)
	at org.jaggeryjs.rhino.publisher.apis.v_1.c1.call(/publisher/apis/v1/entitlement_api_router.jag)
	at org.mozilla.javascript.ScriptRuntime.applyOrCall(ScriptRuntime.java:2430)
	at org.mozilla.javascript.BaseFunction.execIdCall(BaseFunction.java:269)
	at org.mozilla.javascript.IdFunctionObject.call(IdFunctionObject.java:97)
	at org.mozilla.javascript.optimizer.OptRuntime.call2(OptRuntime.java:42)
	at org.jaggeryjs.rhino.publisher.modules.c6._c_anonymous_17(/publisher/modules/publisher.js:438)
	at org.jaggeryjs.rhino.publisher.modules.c6.call(/publisher/modules/publisher.js)
	at org.mozilla.javascript.optimizer.OptRuntime.call0(OptRuntime.java:23)
	at org.mozilla.javascript.gen._store__server_js_4._c_anonymous_17([store]/server.js:271)
	at org.mozilla.javascript.gen._store__server_js_4.call([store]/server.js)
	at org.mozilla.javascript.optimizer.OptRuntime.call2(OptRuntime.java:42)
	at org.jaggeryjs.rhino.publisher.modules.c6._c_anonymous_16(/publisher/modules/publisher.js:433)
	at org.jaggeryjs.rhino.publisher.modules.c6.call(/publisher/modules/publisher.js)
	at org.mozilla.javascript.optimizer.OptRuntime.callN(OptRuntime.java:52)
	at org.jaggeryjs.rhino.publisher.apis.v_1.c1._c_script_0(/publisher/apis/v1/entitlement_api_router.jag:5)
	at org.jaggeryjs.rhino.publisher.apis.v_1.c1.call(/publisher/apis/v1/entitlement_api_router.jag)
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:394)
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3091)
	at org.jaggeryjs.rhino.publisher.apis.v_1.c1.call(/publisher/apis/v1/entitlement_api_router.jag)
	at org.jaggeryjs.rhino.publisher.apis.v_1.c1.exec(/publisher/apis/v1/entitlement_api_router.jag)
	at org.jaggeryjs.scriptengine.engine.RhinoEngine.execScript(RhinoEngine.java:567)
	at org.jaggeryjs.scriptengine.engine.RhinoEngine.exec(RhinoEngine.java:273)
	at org.jaggeryjs.jaggery.core.manager.WebAppManager.execute(WebAppManager.java:536)
	at org.jaggeryjs.jaggery.core.JaggeryServlet.doPost(JaggeryServlet.java:29)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:755)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:848)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:749)
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:487)
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:379)
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:339)
	at org.jaggeryjs.jaggery.core.JaggeryFilter.doFilter(JaggeryFilter.java:21)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:99)
	at org.wso2.carbon.tomcat.ext.valves.CompositeValve.continueInvocation(CompositeValve.java:178)
	at org.wso2.carbon.tomcat.ext.valves.CarbonTomcatValve$1.invoke(CarbonTomcatValve.java:47)
	at org.wso2.carbon.webapp.mgt.TenantLazyLoaderValve.invoke(TenantLazyLoaderValve.java:56)
	at org.wso2.carbon.tomcat.ext.valves.TomcatValveContainer.invokeValves(TomcatValveContainer.java:47)
	at org.wso2.carbon.tomcat.ext.valves.CompositeValve.invoke(CompositeValve.java:141)
	at org.wso2.carbon.tomcat.ext.valves.CarbonStuckThreadDetectionValve.invoke(CarbonStuckThreadDetectionValve.java:156)
	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:936)
	at org.wso2.carbon.tomcat.ext.valves.CarbonContextCreatorValve.invoke(CarbonContextCreatorValve.java:52)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1004)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:589)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1653)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:895)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:918)
	at java.lang.Thread.run(Thread.java:662)
Caused by: java.lang.ClassNotFoundException: org.apache.log.format.Formatter
	at org.eclipse.osgi.internal.loader.BundleLoader.findClassInternal(BundleLoader.java:501)
	at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:421)
	at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:412)
	at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass(DefaultClassLoader.java:107)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:247)
	... 88 more
2014-09-30 19:25:54,614 - Trying to use logger class org.apache.velocity.runtime.log.Log4JLogChute
2014-09-30 19:25:54,614 - Using logger class org.apache.velocity.runtime.log.Log4JLogChute
2014-09-30 19:25:54,614 - Default ResourceManager initializing. (class org.apache.velocity.runtime.resource.ResourceManagerImpl)
2014-09-30 19:25:54,614 - ResourceLoader instantiated: org.apache.velocity.runtime.resource.loader.FileResourceLoader
2014-09-30 19:25:54,614 - Do unicode file recognition:  false
2014-09-30 19:25:54,614 - FileResourceLoader : adding path '.'
2014-09-30 19:25:54,614 - ResourceCache: initialized (class org.apache.velocity.runtime.resource.ResourceCacheImpl)
2014-09-30 19:25:54,614 - Loaded System Directive: org.apache.velocity.runtime.directive.Literal
2014-09-30 19:25:54,614 - Loaded System Directive: org.apache.velocity.runtime.directive.Macro
2014-09-30 19:25:54,614 - Loaded System Directive: org.apache.velocity.runtime.directive.Parse
2014-09-30 19:25:54,614 - Loaded System Directive: org.apache.velocity.runtime.directive.Include
2014-09-30 19:25:54,614 - Loaded System Directive: org.apache.velocity.runtime.directive.Foreach
2014-09-30 19:25:54,615 - Created '20' parsers.
2014-09-30 19:25:54,615 - Velocimacro : "velocimacro.library" is not set.  Trying default library: VM_global_library.vm
2014-09-30 19:25:54,615 - Velocimacro : Default library not found.
2014-09-30 19:25:54,615 - Velocimacro : allowInline = true : VMs can be defined inline in templates
2014-09-30 19:25:54,615 - Velocimacro : allowInlineToOverride = false : VMs defined inline may NOT replace previous VM definitions
2014-09-30 19:25:54,615 - Velocimacro : allowInlineLocal = false : VMs defined inline will be global in scope if allowed.
2014-09-30 19:25:54,615 - Velocimacro : autoload off : VM system will not automatically reload global library macros
2014-09-30 19:25:54,615 - ResourceManager : found repository/resources/entitlement-templates/mock_xacml_policy_template.xml with loader org.apache.velocity.runtime.resource.loader.FileResourceLoader
2014-09-30 19:25:54,780 - Log4JLogChute initialized using file 'velocity.log'
2014-09-30 19:25:54,780 - Starting Apache Velocity v1.5 (compiled: 2007-02-22 08:52:29)
2014-09-30 19:25:54,780 - Default Properties File: org/apache/velocity/runtime/defaults/velocity.properties
2014-09-30 19:25:54,780 - Trying to use logger class org.apache.velocity.runtime.log.AvalonLogChute
2014-09-30 19:25:54,780 - Couldn't find class org.apache.velocity.runtime.log.AvalonLogChute or necessary supporting classes in classpath.
java.lang.NoClassDefFoundError: org/apache/log/format/Formatter
	at java.lang.Class.forName0(Native Method)
	at java.lang.Class.forName(Class.java:249)
	at org.apache.velocity.util.ClassUtils.getClass(ClassUtils.java:63)
	at org.apache.velocity.util.ClassUtils.getNewInstance(ClassUtils.java:95)
	at org.apache.velocity.runtime.log.LogManager.createLogChute(LogManager.java:147)
	at org.apache.velocity.runtime.log.LogManager.updateLog(LogManager.java:208)
	at org.apache.velocity.runtime.RuntimeInstance.initializeLog(RuntimeInstance.java:728)
	at org.apache.velocity.runtime.RuntimeInstance.init(RuntimeInstance.java:240)
	at org.apache.velocity.app.VelocityEngine.init(VelocityEngine.java:116)
	at org.wso2.carbon.appmgt.impl.entitlement.XACMLTemplateBuilder.<init>(XACMLTemplateBuilder.java:46)
	at org.wso2.carbon.appmgt.impl.entitlement.XacmlEntitlementServiceImpl.generateAndSaveEntitlementPolicies(XacmlEntitlementServiceImpl.java:170)
	at org.wso2.carbon.appmgt.impl.APIProviderImpl.generateEntitlementPolicies(APIProviderImpl.java:418)
	at org.wso2.carbon.appmgt.impl.UserAwareAPIProvider.generateEntitlementPolicies(UserAwareAPIProvider.java:130)
	at org.wso2.carbon.appmgt.hostobjects.APIProviderHostObject.jsFunction_generateEntitlementPolicies(APIProviderHostObject.java:557)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:126)
	at org.mozilla.javascript.FunctionObject.call(FunctionObject.java:386)
	at org.mozilla.javascript.optimizer.OptRuntime.call1(OptRuntime.java:32)
	at org.jaggeryjs.rhino.publisher.assets.default.c1._c_generateEntitlementPolicies_10(/publisher/assets/default/asset.jag:313)
	at org.jaggeryjs.rhino.publisher.assets.default.c1.call(/publisher/assets/default/asset.jag)
	at org.mozilla.javascript.optimizer.OptRuntime.callName(OptRuntime.java:63)
	at org.jaggeryjs.rhino.publisher.assets.default.c1._c_anonymous_8(/publisher/assets/default/asset.jag:288)
	at org.jaggeryjs.rhino.publisher.assets.default.c1.call(/publisher/assets/default/asset.jag)
	at org.mozilla.javascript.optimizer.OptRuntime.call1(OptRuntime.java:32)
	at org.jaggeryjs.rhino.publisher.modules.c4._c_anonymous_12(/publisher/modules/router-g.js:183)
	at org.jaggeryjs.rhino.publisher.modules.c4.call(/publisher/modules/router-g.js)
	at org.mozilla.javascript.optimizer.OptRuntime.call2(OptRuntime.java:42)
	at org.jaggeryjs.rhino.publisher.assets.default.c1._c_anonymous_1(/publisher/assets/default/asset.jag:531)
	at org.jaggeryjs.rhino.publisher.assets.default.c1.call(/publisher/assets/default/asset.jag)
	at org.mozilla.javascript.ScriptRuntime.applyOrCall(ScriptRuntime.java:2430)
	at org.mozilla.javascript.BaseFunction.execIdCall(BaseFunction.java:269)
	at org.mozilla.javascript.IdFunctionObject.call(IdFunctionObject.java:97)
	at org.mozilla.javascript.optimizer.OptRuntime.call2(OptRuntime.java:42)
	at org.jaggeryjs.rhino.publisher.modules.c6._c_anonymous_17(/publisher/modules/publisher.js:438)
	at org.jaggeryjs.rhino.publisher.modules.c6.call(/publisher/modules/publisher.js)
	at org.mozilla.javascript.optimizer.OptRuntime.call0(OptRuntime.java:23)
	at org.mozilla.javascript.gen._store__server_js_4._c_anonymous_17([store]/server.js:271)
	at org.mozilla.javascript.gen._store__server_js_4.call([store]/server.js)
	at org.mozilla.javascript.optimizer.OptRuntime.call2(OptRuntime.java:42)
	at org.jaggeryjs.rhino.publisher.modules.c6._c_anonymous_16(/publisher/modules/publisher.js:433)
	at org.jaggeryjs.rhino.publisher.modules.c6.call(/publisher/modules/publisher.js)
	at org.mozilla.javascript.optimizer.OptRuntime.callN(OptRuntime.java:52)
	at org.jaggeryjs.rhino.publisher.assets.default.c1._c_script_0(/publisher/assets/default/asset.jag:17)
	at org.jaggeryjs.rhino.publisher.assets.default.c1.call(/publisher/assets/default/asset.jag)
	at org.jaggeryjs.rhino.publisher.assets.default.c1.exec(/publisher/assets/default/asset.jag)
	at org.jaggeryjs.scriptengine.engine.RhinoEngine.execScript(RhinoEngine.java:567)
	at org.jaggeryjs.scriptengine.engine.RhinoEngine.exec(RhinoEngine.java:273)
	at org.jaggeryjs.jaggery.core.manager.WebAppManager.executeScript(WebAppManager.java:279)
	at org.jaggeryjs.jaggery.core.manager.WebAppManager.include(WebAppManager.java:133)
	at sun.reflect.GeneratedMethodAccessor104.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:126)
	at org.mozilla.javascript.FunctionObject.call(FunctionObject.java:386)
	at org.mozilla.javascript.optimizer.OptRuntime.callName(OptRuntime.java:63)
	at org.jaggeryjs.rhino.publisher.controllers.c3._c_anonymous_1(/publisher/controllers/asset_router.jag:87)
	at org.jaggeryjs.rhino.publisher.controllers.c3.call(/publisher/controllers/asset_router.jag)
	at org.mozilla.javascript.optimizer.OptRuntime.call0(OptRuntime.java:23)
	at org.jaggeryjs.rhino.publisher.controllers.c3._c_script_0(/publisher/controllers/asset_router.jag:8)
	at org.jaggeryjs.rhino.publisher.controllers.c3.call(/publisher/controllers/asset_router.jag)
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:394)
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3091)
	at org.jaggeryjs.rhino.publisher.controllers.c3.call(/publisher/controllers/asset_router.jag)
	at org.jaggeryjs.rhino.publisher.controllers.c3.exec(/publisher/controllers/asset_router.jag)
	at org.jaggeryjs.scriptengine.engine.RhinoEngine.execScript(RhinoEngine.java:567)
	at org.jaggeryjs.scriptengine.engine.RhinoEngine.exec(RhinoEngine.java:273)
	at org.jaggeryjs.jaggery.core.manager.WebAppManager.execute(WebAppManager.java:536)
	at org.jaggeryjs.jaggery.core.JaggeryServlet.doPost(JaggeryServlet.java:29)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:755)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:848)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:749)
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:487)
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:379)
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:339)
	at org.jaggeryjs.jaggery.core.JaggeryFilter.doFilter(JaggeryFilter.java:21)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:99)
	at org.wso2.carbon.tomcat.ext.valves.CompositeValve.continueInvocation(CompositeValve.java:178)
	at org.wso2.carbon.tomcat.ext.valves.CarbonTomcatValve$1.invoke(CarbonTomcatValve.java:47)
	at org.wso2.carbon.webapp.mgt.TenantLazyLoaderValve.invoke(TenantLazyLoaderValve.java:56)
	at org.wso2.carbon.tomcat.ext.valves.TomcatValveContainer.invokeValves(TomcatValveContainer.java:47)
	at org.wso2.carbon.tomcat.ext.valves.CompositeValve.invoke(CompositeValve.java:141)
	at org.wso2.carbon.tomcat.ext.valves.CarbonStuckThreadDetectionValve.invoke(CarbonStuckThreadDetectionValve.java:156)
	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:936)
	at org.wso2.carbon.tomcat.ext.valves.CarbonContextCreatorValve.invoke(CarbonContextCreatorValve.java:52)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1004)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:589)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1653)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:895)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:918)
	at java.lang.Thread.run(Thread.java:662)
Caused by: java.lang.ClassNotFoundException: org.apache.log.format.Formatter
	at org.eclipse.osgi.internal.loader.BundleLoader.findClassInternal(BundleLoader.java:501)
	at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:421)
	at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:412)
	at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass(DefaultClassLoader.java:107)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:247)
	... 103 more
2014-09-30 19:25:54,780 - Trying to use logger class org.apache.velocity.runtime.log.Log4JLogChute
2014-09-30 19:25:54,781 - Using logger class org.apache.velocity.runtime.log.Log4JLogChute
2014-09-30 19:25:54,781 - Default ResourceManager initializing. (class org.apache.velocity.runtime.resource.ResourceManagerImpl)
2014-09-30 19:25:54,781 - ResourceLoader instantiated: org.apache.velocity.runtime.resource.loader.FileResourceLoader
2014-09-30 19:25:54,781 - Do unicode file recognition:  false
2014-09-30 19:25:54,781 - FileResourceLoader : adding path '.'
2014-09-30 19:25:54,781 - ResourceCache: initialized (class org.apache.velocity.runtime.resource.ResourceCacheImpl)
2014-09-30 19:25:54,781 - Loaded System Directive: org.apache.velocity.runtime.directive.Literal
2014-09-30 19:25:54,781 - Loaded System Directive: org.apache.velocity.runtime.directive.Macro
2014-09-30 19:25:54,781 - Loaded System Directive: org.apache.velocity.runtime.directive.Parse
2014-09-30 19:25:54,781 - Loaded System Directive: org.apache.velocity.runtime.directive.Include
2014-09-30 19:25:54,781 - Loaded System Directive: org.apache.velocity.runtime.directive.Foreach
2014-09-30 19:25:54,781 - Created '20' parsers.
2014-09-30 19:25:54,781 - Velocimacro : "velocimacro.library" is not set.  Trying default library: VM_global_library.vm
2014-09-30 19:25:54,781 - Velocimacro : Default library not found.
2014-09-30 19:25:54,781 - Velocimacro : allowInline = true : VMs can be defined inline in templates
2014-09-30 19:25:54,781 - Velocimacro : allowInlineToOverride = false : VMs defined inline may NOT replace previous VM definitions
2014-09-30 19:25:54,781 - Velocimacro : allowInlineLocal = false : VMs defined inline will be global in scope if allowed.
2014-09-30 19:25:54,781 - Velocimacro : autoload off : VM system will not automatically reload global library macros
2014-09-30 19:25:54,782 - ResourceManager : found repository/resources/entitlement-templates/xacml_policy_template.xml with loader org.apache.velocity.runtime.resource.loader.FileResourceLoader
2014-09-30 19:25:55,518 - Log4JLogChute initialized using file 'velocity.log'
2014-09-30 19:25:55,518 - Log4JLogChute initialized using file 'velocity.log'
2014-09-30 19:25:55,520 - Starting Apache Velocity v1.5 (compiled: 2007-02-22 08:52:29)
2014-09-30 19:25:55,520 - Starting Apache Velocity v1.5 (compiled: 2007-02-22 08:52:29)
2014-09-30 19:25:55,520 - Default Properties File: org/apache/velocity/runtime/defaults/velocity.properties
2014-09-30 19:25:55,520 - Default Properties File: org/apache/velocity/runtime/defaults/velocity.properties
2014-09-30 19:25:55,520 - Trying to use logger class org.apache.velocity.runtime.log.AvalonLogChute
2014-09-30 19:25:55,520 - Trying to use logger class org.apache.velocity.runtime.log.AvalonLogChute
2014-09-30 19:25:55,520 - Couldn't find class org.apache.velocity.runtime.log.AvalonLogChute or necessary supporting classes in classpath.
java.lang.NoClassDefFoundError: org/apache/log/format/Formatter
	at java.lang.Class.forName0(Native Method)
	at java.lang.Class.forName(Class.java:249)
	at org.apache.velocity.util.ClassUtils.getClass(ClassUtils.java:63)
	at org.apache.velocity.util.ClassUtils.getNewInstance(ClassUtils.java:95)
	at org.apache.velocity.runtime.log.LogManager.createLogChute(LogManager.java:147)
	at org.apache.velocity.runtime.log.LogManager.updateLog(LogManager.java:208)
	at org.apache.velocity.runtime.RuntimeInstance.initializeLog(RuntimeInstance.java:728)
	at org.apache.velocity.runtime.RuntimeInstance.init(RuntimeInstance.java:240)
	at org.apache.velocity.app.VelocityEngine.init(VelocityEngine.java:116)
	at org.wso2.carbon.appmgt.impl.template.APITemplateBuilderImpl.getConfigStringForTemplate(APITemplateBuilderImpl.java:82)
	at org.wso2.carbon.appmgt.impl.utils.RESTAPIAdminClient.addApi(RESTAPIAdminClient.java:50)
	at org.wso2.carbon.appmgt.impl.APIGatewayManager.publishToGateway(APIGatewayManager.java:132)
	at org.wso2.carbon.appmgt.impl.APIProviderImpl.publishToGateway(APIProviderImpl.java:802)
	at org.wso2.carbon.appmgt.impl.APIProviderImpl.changeAPIStatus(APIProviderImpl.java:755)
	at org.wso2.carbon.appmgt.impl.UserAwareAPIProvider.changeAPIStatus(UserAwareAPIProvider.java:78)
	at org.wso2.carbon.appmgt.impl.workflow.PublishAPPSimpleWorkflowExecutor.complete(PublishAPPSimpleWorkflowExecutor.java:83)
	at org.wso2.carbon.appmgt.impl.extensions.custom.ApprovalActionEventExecutor.execute(ApprovalActionEventExecutor.java:119)
	at org.wso2.jaggery.scxml.aspects.JaggeryTravellingPermissionLifeCycle.runCustomExecutorsCode(JaggeryTravellingPermissionLifeCycle.java:702)
	at org.wso2.jaggery.scxml.aspects.JaggeryTravellingPermissionLifeCycle.invoke(JaggeryTravellingPermissionLifeCycle.java:439)
	at org.wso2.carbon.governance.registry.eventing.handlers.GovernanceEventingHandler.invokeAspect(GovernanceEventingHandler.java:243)
	at org.wso2.carbon.registry.core.jdbc.handlers.HandlerManager.invokeAspect(HandlerManager.java:2792)
	at org.wso2.carbon.registry.core.jdbc.handlers.HandlerLifecycleManager.invokeAspect(HandlerLifecycleManager.java:531)
	at org.wso2.carbon.registry.core.jdbc.EmbeddedRegistry.invokeAspect(EmbeddedRegistry.java:2550)
	at org.wso2.carbon.registry.core.caching.CacheBackedRegistry.invokeAspect(CacheBackedRegistry.java:427)
	at org.wso2.carbon.registry.core.session.UserRegistry.invokeAspect(UserRegistry.java:1425)
	at org.wso2.carbon.governance.api.common.dataobjects.GovernanceArtifactImpl.invokeAction(GovernanceArtifactImpl.java:625)
	at org.wso2.carbon.governance.api.common.dataobjects.GovernanceArtifactImpl.invokeAction(GovernanceArtifactImpl.java:605)
	at sun.reflect.GeneratedMethodAccessor254.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:126)
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:225)
	at org.mozilla.javascript.optimizer.OptRuntime.call1(OptRuntime.java:32)
	at org.mozilla.javascript.gen.artifacts_25._c_anonymous_21(artifacts:283)
	at org.mozilla.javascript.gen.artifacts_25.call(artifacts)
	at org.mozilla.javascript.optimizer.OptRuntime.call2(OptRuntime.java:42)
	at org.jaggeryjs.rhino.publisher.apis.v_1.c4._c_anonymous_9(/publisher/apis/v1/lifecycle_api_router.jag:163)
	at org.jaggeryjs.rhino.publisher.apis.v_1.c4.call(/publisher/apis/v1/lifecycle_api_router.jag)
	at org.mozilla.javascript.optimizer.OptRuntime.call1(OptRuntime.java:32)
	at org.jaggeryjs.rhino.publisher.modules.c4._c_anonymous_12(/publisher/modules/router-g.js:183)
	at org.jaggeryjs.rhino.publisher.modules.c4.call(/publisher/modules/router-g.js)
	at org.mozilla.javascript.optimizer.OptRuntime.call2(OptRuntime.java:42)
	at org.jaggeryjs.rhino.publisher.apis.v_1.c4._c_anonymous_1(/publisher/apis/v1/lifecycle_api_router.jag:431)
	at org.jaggeryjs.rhino.publisher.apis.v_1.c4.call(/publisher/apis/v1/lifecycle_api_router.jag)
	at org.mozilla.javascript.ScriptRuntime.applyOrCall(ScriptRuntime.java:2430)
	at org.mozilla.javascript.BaseFunction.execIdCall(BaseFunction.java:269)
	at org.mozilla.javascript.IdFunctionObject.call(IdFunctionObject.java:97)
	at org.mozilla.javascript.optimizer.OptRuntime.call2(OptRuntime.java:42)
	at org.jaggeryjs.rhino.publisher.modules.c6._c_anonymous_17(/publisher/modules/publisher.js:438)
	at org.jaggeryjs.rhino.publisher.modules.c6.call(/publisher/modules/publisher.js)
	at org.mozilla.javascript.optimizer.OptRuntime.call0(OptRuntime.java:23)
	at org.mozilla.javascript.gen._store__server_js_4._c_anonymous_17([store]/server.js:271)
	at org.mozilla.javascript.gen._store__server_js_4.call([store]/server.js)
	at org.mozilla.javascript.optimizer.OptRuntime.call2(OptRuntime.java:42)
	at org.jaggeryjs.rhino.publisher.modules.c6._c_anonymous_16(/publisher/modules/publisher.js:433)
	at org.jaggeryjs.rhino.publisher.modules.c6.call(/publisher/modules/publisher.js)
	at org.mozilla.javascript.optimizer.OptRuntime.callN(OptRuntime.java:52)
	at org.jaggeryjs.rhino.publisher.apis.v_1.c4._c_script_0(/publisher/apis/v1/lifecycle_api_router.jag:24)
	at org.jaggeryjs.rhino.publisher.apis.v_1.c4.call(/publisher/apis/v1/lifecycle_api_router.jag)
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:394)
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3091)
	at org.jaggeryjs.rhino.publisher.apis.v_1.c4.call(/publisher/apis/v1/lifecycle_api_router.jag)
	at org.jaggeryjs.rhino.publisher.apis.v_1.c4.exec(/publisher/apis/v1/lifecycle_api_router.jag)
	at org.jaggeryjs.scriptengine.engine.RhinoEngine.execScript(RhinoEngine.java:567)
	at org.jaggeryjs.scriptengine.engine.RhinoEngine.exec(RhinoEngine.java:273)
	at org.jaggeryjs.jaggery.core.manager.WebAppManager.execute(WebAppManager.java:536)
	at org.jaggeryjs.jaggery.core.JaggeryServlet.doPut(JaggeryServlet.java:39)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:758)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:848)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:749)
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:487)
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:379)
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:339)
	at org.jaggeryjs.jaggery.core.JaggeryFilter.doFilter(JaggeryFilter.java:21)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:99)
	at org.wso2.carbon.tomcat.ext.valves.CompositeValve.continueInvocation(CompositeValve.java:178)
	at org.wso2.carbon.tomcat.ext.valves.CarbonTomcatValve$1.invoke(CarbonTomcatValve.java:47)
	at org.wso2.carbon.webapp.mgt.TenantLazyLoaderValve.invoke(TenantLazyLoaderValve.java:56)
	at org.wso2.carbon.tomcat.ext.valves.TomcatValveContainer.invokeValves(TomcatValveContainer.java:47)
	at org.wso2.carbon.tomcat.ext.valves.CompositeValve.invoke(CompositeValve.java:141)
	at org.wso2.carbon.tomcat.ext.valves.CarbonStuckThreadDetectionValve.invoke(CarbonStuckThreadDetectionValve.java:156)
	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:936)
	at org.wso2.carbon.tomcat.ext.valves.CarbonContextCreatorValve.invoke(CarbonContextCreatorValve.java:52)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1004)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:589)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1653)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:895)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:918)
	at java.lang.Thread.run(Thread.java:662)
Caused by: java.lang.ClassNotFoundException: org.apache.log.format.Formatter
	at org.eclipse.osgi.internal.loader.BundleLoader.findClassInternal(BundleLoader.java:501)
	at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:421)
	at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:412)
	at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass(DefaultClassLoader.java:107)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:247)
	... 99 more
2014-09-30 19:25:55,520 - Couldn't find class org.apache.velocity.runtime.log.AvalonLogChute or necessary supporting classes in classpath.
java.lang.NoClassDefFoundError: org/apache/log/format/Formatter
	at java.lang.Class.forName0(Native Method)
	at java.lang.Class.forName(Class.java:249)
	at org.apache.velocity.util.ClassUtils.getClass(ClassUtils.java:63)
	at org.apache.velocity.util.ClassUtils.getNewInstance(ClassUtils.java:95)
	at org.apache.velocity.runtime.log.LogManager.createLogChute(LogManager.java:147)
	at org.apache.velocity.runtime.log.LogManager.updateLog(LogManager.java:208)
	at org.apache.velocity.runtime.RuntimeInstance.initializeLog(RuntimeInstance.java:728)
	at org.apache.velocity.runtime.RuntimeInstance.init(RuntimeInstance.java:240)
	at org.apache.velocity.app.VelocityEngine.init(VelocityEngine.java:116)
	at org.wso2.carbon.appmgt.impl.template.APITemplateBuilderImpl.getConfigStringForTemplate(APITemplateBuilderImpl.java:82)
	at org.wso2.carbon.appmgt.impl.utils.RESTAPIAdminClient.addApi(RESTAPIAdminClient.java:50)
	at org.wso2.carbon.appmgt.impl.APIGatewayManager.publishToGateway(APIGatewayManager.java:132)
	at org.wso2.carbon.appmgt.impl.APIProviderImpl.publishToGateway(APIProviderImpl.java:802)
	at org.wso2.carbon.appmgt.impl.APIProviderImpl.changeAPIStatus(APIProviderImpl.java:755)
	at org.wso2.carbon.appmgt.impl.UserAwareAPIProvider.changeAPIStatus(UserAwareAPIProvider.java:78)
	at org.wso2.carbon.appmgt.impl.workflow.PublishAPPSimpleWorkflowExecutor.complete(PublishAPPSimpleWorkflowExecutor.java:83)
	at org.wso2.carbon.appmgt.impl.extensions.custom.ApprovalActionEventExecutor.execute(ApprovalActionEventExecutor.java:119)
	at org.wso2.jaggery.scxml.aspects.JaggeryTravellingPermissionLifeCycle.runCustomExecutorsCode(JaggeryTravellingPermissionLifeCycle.java:702)
	at org.wso2.jaggery.scxml.aspects.JaggeryTravellingPermissionLifeCycle.invoke(JaggeryTravellingPermissionLifeCycle.java:439)
	at org.wso2.carbon.governance.registry.eventing.handlers.GovernanceEventingHandler.invokeAspect(GovernanceEventingHandler.java:243)
	at org.wso2.carbon.registry.core.jdbc.handlers.HandlerManager.invokeAspect(HandlerManager.java:2792)
	at org.wso2.carbon.registry.core.jdbc.handlers.HandlerLifecycleManager.invokeAspect(HandlerLifecycleManager.java:531)
	at org.wso2.carbon.registry.core.jdbc.EmbeddedRegistry.invokeAspect(EmbeddedRegistry.java:2550)
	at org.wso2.carbon.registry.core.caching.CacheBackedRegistry.invokeAspect(CacheBackedRegistry.java:427)
	at org.wso2.carbon.registry.core.session.UserRegistry.invokeAspect(UserRegistry.java:1425)
	at org.wso2.carbon.governance.api.common.dataobjects.GovernanceArtifactImpl.invokeAction(GovernanceArtifactImpl.java:625)
	at org.wso2.carbon.governance.api.common.dataobjects.GovernanceArtifactImpl.invokeAction(GovernanceArtifactImpl.java:605)
	at sun.reflect.GeneratedMethodAccessor254.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:126)
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:225)
	at org.mozilla.javascript.optimizer.OptRuntime.call1(OptRuntime.java:32)
	at org.mozilla.javascript.gen.artifacts_25._c_anonymous_21(artifacts:283)
	at org.mozilla.javascript.gen.artifacts_25.call(artifacts)
	at org.mozilla.javascript.optimizer.OptRuntime.call2(OptRuntime.java:42)
	at org.jaggeryjs.rhino.publisher.apis.v_1.c4._c_anonymous_9(/publisher/apis/v1/lifecycle_api_router.jag:163)
	at org.jaggeryjs.rhino.publisher.apis.v_1.c4.call(/publisher/apis/v1/lifecycle_api_router.jag)
	at org.mozilla.javascript.optimizer.OptRuntime.call1(OptRuntime.java:32)
	at org.jaggeryjs.rhino.publisher.modules.c4._c_anonymous_12(/publisher/modules/router-g.js:183)
	at org.jaggeryjs.rhino.publisher.modules.c4.call(/publisher/modules/router-g.js)
	at org.mozilla.javascript.optimizer.OptRuntime.call2(OptRuntime.java:42)
	at org.jaggeryjs.rhino.publisher.apis.v_1.c4._c_anonymous_1(/publisher/apis/v1/lifecycle_api_router.jag:431)
	at org.jaggeryjs.rhino.publisher.apis.v_1.c4.call(/publisher/apis/v1/lifecycle_api_router.jag)
	at org.mozilla.javascript.ScriptRuntime.applyOrCall(ScriptRuntime.java:2430)
	at org.mozilla.javascript.BaseFunction.execIdCall(BaseFunction.java:269)
	at org.mozilla.javascript.IdFunctionObject.call(IdFunctionObject.java:97)
	at org.mozilla.javascript.optimizer.OptRuntime.call2(OptRuntime.java:42)
	at org.jaggeryjs.rhino.publisher.modules.c6._c_anonymous_17(/publisher/modules/publisher.js:438)
	at org.jaggeryjs.rhino.publisher.modules.c6.call(/publisher/modules/publisher.js)
	at org.mozilla.javascript.optimizer.OptRuntime.call0(OptRuntime.java:23)
	at org.mozilla.javascript.gen._store__server_js_4._c_anonymous_17([store]/server.js:271)
	at org.mozilla.javascript.gen._store__server_js_4.call([store]/server.js)
	at org.mozilla.javascript.optimizer.OptRuntime.call2(OptRuntime.java:42)
	at org.jaggeryjs.rhino.publisher.modules.c6._c_anonymous_16(/publisher/modules/publisher.js:433)
	at org.jaggeryjs.rhino.publisher.modules.c6.call(/publisher/modules/publisher.js)
	at org.mozilla.javascript.optimizer.OptRuntime.callN(OptRuntime.java:52)
	at org.jaggeryjs.rhino.publisher.apis.v_1.c4._c_script_0(/publisher/apis/v1/lifecycle_api_router.jag:24)
	at org.jaggeryjs.rhino.publisher.apis.v_1.c4.call(/publisher/apis/v1/lifecycle_api_router.jag)
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:394)
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3091)
	at org.jaggeryjs.rhino.publisher.apis.v_1.c4.call(/publisher/apis/v1/lifecycle_api_router.jag)
	at org.jaggeryjs.rhino.publisher.apis.v_1.c4.exec(/publisher/apis/v1/lifecycle_api_router.jag)
	at org.jaggeryjs.scriptengine.engine.RhinoEngine.execScript(RhinoEngine.java:567)
	at org.jaggeryjs.scriptengine.engine.RhinoEngine.exec(RhinoEngine.java:273)
	at org.jaggeryjs.jaggery.core.manager.WebAppManager.execute(WebAppManager.java:536)
	at org.jaggeryjs.jaggery.core.JaggeryServlet.doPut(JaggeryServlet.java:39)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:758)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:848)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:749)
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:487)
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:379)
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:339)
	at org.jaggeryjs.jaggery.core.JaggeryFilter.doFilter(JaggeryFilter.java:21)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:99)
	at org.wso2.carbon.tomcat.ext.valves.CompositeValve.continueInvocation(CompositeValve.java:178)
	at org.wso2.carbon.tomcat.ext.valves.CarbonTomcatValve$1.invoke(CarbonTomcatValve.java:47)
	at org.wso2.carbon.webapp.mgt.TenantLazyLoaderValve.invoke(TenantLazyLoaderValve.java:56)
	at org.wso2.carbon.tomcat.ext.valves.TomcatValveContainer.invokeValves(TomcatValveContainer.java:47)
	at org.wso2.carbon.tomcat.ext.valves.CompositeValve.invoke(CompositeValve.java:141)
	at org.wso2.carbon.tomcat.ext.valves.CarbonStuckThreadDetectionValve.invoke(CarbonStuckThreadDetectionValve.java:156)
	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:936)
	at org.wso2.carbon.tomcat.ext.valves.CarbonContextCreatorValve.invoke(CarbonContextCreatorValve.java:52)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1004)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:589)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1653)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:895)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:918)
	at java.lang.Thread.run(Thread.java:662)
Caused by: java.lang.ClassNotFoundException: org.apache.log.format.Formatter
	at org.eclipse.osgi.internal.loader.BundleLoader.findClassInternal(BundleLoader.java:501)
	at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:421)
	at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:412)
	at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass(DefaultClassLoader.java:107)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:247)
	... 99 more
2014-09-30 19:25:55,522 - Trying to use logger class org.apache.velocity.runtime.log.Log4JLogChute
2014-09-30 19:25:55,522 - Trying to use logger class org.apache.velocity.runtime.log.Log4JLogChute
2014-09-30 19:25:55,522 - Using logger class org.apache.velocity.runtime.log.Log4JLogChute
2014-09-30 19:25:55,522 - Using logger class org.apache.velocity.runtime.log.Log4JLogChute
2014-09-30 19:25:55,523 - Default ResourceManager initializing. (class org.apache.velocity.runtime.resource.ResourceManagerImpl)
2014-09-30 19:25:55,523 - Default ResourceManager initializing. (class org.apache.velocity.runtime.resource.ResourceManagerImpl)
2014-09-30 19:25:55,523 - ResourceLoader instantiated: org.apache.velocity.runtime.resource.loader.FileResourceLoader
2014-09-30 19:25:55,523 - ResourceLoader instantiated: org.apache.velocity.runtime.resource.loader.FileResourceLoader
2014-09-30 19:25:55,523 - Do unicode file recognition:  false
2014-09-30 19:25:55,523 - Do unicode file recognition:  false
2014-09-30 19:25:55,523 - FileResourceLoader : adding path '.'
2014-09-30 19:25:55,523 - FileResourceLoader : adding path '.'
2014-09-30 19:25:55,523 - ResourceCache: initialized (class org.apache.velocity.runtime.resource.ResourceCacheImpl)
2014-09-30 19:25:55,523 - ResourceCache: initialized (class org.apache.velocity.runtime.resource.ResourceCacheImpl)
2014-09-30 19:25:55,523 - Loaded System Directive: org.apache.velocity.runtime.directive.Literal
2014-09-30 19:25:55,523 - Loaded System Directive: org.apache.velocity.runtime.directive.Literal
2014-09-30 19:25:55,523 - Loaded System Directive: org.apache.velocity.runtime.directive.Macro
2014-09-30 19:25:55,523 - Loaded System Directive: org.apache.velocity.runtime.directive.Macro
2014-09-30 19:25:55,523 - Loaded System Directive: org.apache.velocity.runtime.directive.Parse
2014-09-30 19:25:55,523 - Loaded System Directive: org.apache.velocity.runtime.directive.Parse
2014-09-30 19:25:55,523 - Loaded System Directive: org.apache.velocity.runtime.directive.Include
2014-09-30 19:25:55,523 - Loaded System Directive: org.apache.velocity.runtime.directive.Include
2014-09-30 19:25:55,523 - Loaded System Directive: org.apache.velocity.runtime.directive.Foreach
2014-09-30 19:25:55,523 - Loaded System Directive: org.apache.velocity.runtime.directive.Foreach
2014-09-30 19:25:55,524 - Created '20' parsers.
2014-09-30 19:25:55,524 - Created '20' parsers.
2014-09-30 19:25:55,524 - Velocimacro : "velocimacro.library" is not set.  Trying default library: VM_global_library.vm
2014-09-30 19:25:55,524 - Velocimacro : "velocimacro.library" is not set.  Trying default library: VM_global_library.vm
2014-09-30 19:25:55,525 - Velocimacro : Default library not found.
2014-09-30 19:25:55,525 - Velocimacro : Default library not found.
2014-09-30 19:25:55,525 - Velocimacro : allowInline = true : VMs can be defined inline in templates
2014-09-30 19:25:55,525 - Velocimacro : allowInline = true : VMs can be defined inline in templates
2014-09-30 19:25:55,525 - Velocimacro : allowInlineToOverride = false : VMs defined inline may NOT replace previous VM definitions
2014-09-30 19:25:55,525 - Velocimacro : allowInlineToOverride = false : VMs defined inline may NOT replace previous VM definitions
2014-09-30 19:25:55,525 - Velocimacro : allowInlineLocal = false : VMs defined inline will be global in scope if allowed.
2014-09-30 19:25:55,525 - Velocimacro : allowInlineLocal = false : VMs defined inline will be global in scope if allowed.
2014-09-30 19:25:55,525 - Velocimacro : autoload off : VM system will not automatically reload global library macros
2014-09-30 19:25:55,525 - Velocimacro : autoload off : VM system will not automatically reload global library macros
2014-09-30 19:25:55,525 - Velocimacro : added #print_if_exist(  field default ) : source = repository/resources/api_templates/velocity_template.xml
2014-09-30 19:25:55,525 - Velocimacro : added #print_if_exist(  field default ) : source = repository/resources/api_templates/velocity_template.xml
2014-09-30 19:25:55,526 - Velocimacro : added #print_list(  list default ) : source = repository/resources/api_templates/velocity_template.xml
2014-09-30 19:25:55,526 - Velocimacro : added #print_list(  list default ) : source = repository/resources/api_templates/velocity_template.xml
2014-09-30 19:25:55,527 - Velocimacro : added #timeout(  config ) : source = repository/resources/api_templates/velocity_template.xml
2014-09-30 19:25:55,527 - Velocimacro : added #timeout(  config ) : source = repository/resources/api_templates/velocity_template.xml
2014-09-30 19:25:55,528 - Velocimacro : added #http_endpoint(  name ep ) : source = repository/resources/api_templates/velocity_template.xml
2014-09-30 19:25:55,528 - Velocimacro : added #http_endpoint(  name ep ) : source = repository/resources/api_templates/velocity_template.xml
2014-09-30 19:25:55,530 - Velocimacro : added #draw_endpoint(  type endpoint_config ) : source = repository/resources/api_templates/velocity_template.xml
2014-09-30 19:25:55,530 - Velocimacro : added #draw_endpoint(  type endpoint_config ) : source = repository/resources/api_templates/velocity_template.xml
2014-09-30 19:25:55,540 - ResourceManager : found repository/resources/api_templates/velocity_template.xml with loader org.apache.velocity.runtime.resource.loader.FileResourceLoader
2014-09-30 19:25:55,540 - ResourceManager : found repository/resources/api_templates/velocity_template.xml with loader org.apache.velocity.runtime.resource.loader.FileResourceLoader
2014-09-30 19:25:55,542 - VM #timeout: error : too few arguments to macro. Wanted 1 got 0
2014-09-30 19:25:55,542 - VM #timeout: error : too few arguments to macro. Wanted 1 got 0
2014-09-30 19:25:55,547 - Left side ($config.get("actionSelect")) of '==' operation has null value. If a reference, it may not be in the context. Operation not possible. repository/resources/api_templates/velocity_template.xml [line 1, column 40]
2014-09-30 19:25:55,547 - Left side ($config.get("actionSelect")) of '==' operation has null value. If a reference, it may not be in the context. Operation not possible. repository/resources/api_templates/velocity_template.xml [line 1, column 40]
2014-09-30 19:25:55,547 - Left side ($config.get("actionSelect")) of '==' operation has null value. If a reference, it may not be in the context. Operation not possible. repository/resources/api_templates/velocity_template.xml [line 1, column 40]
2014-09-30 19:25:55,547 - Left side ($config.get("actionSelect")) of '==' operation has null value. If a reference, it may not be in the context. Operation not possible. repository/resources/api_templates/velocity_template.xml [line 1, column 40]
2014-09-30 19:26:16,818 - Log4JLogChute initialized using file 'velocity.log'
